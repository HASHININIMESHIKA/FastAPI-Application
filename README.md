# FastAPI Machine Learning Application

This repository contains a FastAPI application that serves a machine learning model for predicting software developers' annual salaries based on various features such as country, education level, and years of professional experience. The application is deployed on Render with an automated CI/CD pipeline managed by GitHub Actions.

## Table of Contents

- [Overview](#overview)
- [Features](#features)
- [Installation](#installation)
- [Running the Application Locally](#running-the-application-locally)
- [Deploying to Render](#deploying-to-render)
- [CI/CD Pipeline with GitHub Actions](#cicd-pipeline-with-github-actions)
- [API Usage](#api-usage)
- [Contributing](#contributing)

## Overview

This project demonstrates how to deploy a machine learning model using FastAPI and Render, with an automated CI/CD pipeline through GitHub Actions. The model is trained using data from the Stack Overflow Developer Survey 2023, predicting salaries based on inputs like country, education level, and years of experience.

## Features

- FastAPI application with a /predict_salary/ endpoint for salary prediction.
- Machine learning model trained using RandomForestRegressor.
- Automatic deployment to Render whenever changes are pushed to the repository.
- API documentation generated automatically with Swagger UI.
- Continuous Integration and Continuous Deployment (CI/CD) pipeline with GitHub Actions.

 ## Installation

 1. **Clone the repository**:

   ```bash
   git clone https://github.com/<your-username>/<your-repo>.git
````

2. **Install the required dependencies**:

   ```bash
   pip install -r requirements.txt
   ```
3. **Ensure you have the following installed**:
    - Python 3.7+
    - Uvicorn (for running the FastAPI server)
    - Joblib (for loading the trained machine learning model)
      
## Running the Application Locally

1. Make sure the environment is set up and dependencies are installed.
   
2. Run the FastAPI app using Uvicorn:
   ```bash
   uvicorn main:app --reload
   ```

3. Open a browser and navigate to http://127.0.0.1:8000/docs to access the Swagger UI, where you can interact with the API.

## Deploying to Render

This FastAPI app is deployed on Render, a cloud platform for easily deploying web applications. Follow these steps to deploy your own version:

1. Create a Render account at Render.com.
2. Create a new Web Service in Render and connect it to your GitHub repository.
3. Set the following:
   - Build Command: pip install -r requirements.txt
   - Start Command: uvicorn main:app --host 0.0.0.0 --port 10000
4. The app will be deployed automatically, and you can monitor the deployment logs in the Render dashboard.

## CI/CD Pipeline with GitHub Actions

A GitHub Actions workflow is set up in this repository to automate the deployment process. Whenever code is pushed to the main branch, the app is automatically built and deployed to Render.

The workflow file is located at .github/workflows/deploy.yml. Here's a summary of the CI/CD pipeline:

- Checkout Code: Pulls the latest code from the repository.
- Install Dependencies: Installs the necessary Python packages.
- Deploy to Render: Triggers a deployment to Render using the Render API.

**Setting up GitHub Secrets**

1. Go to Settings > Secrets and variables > Actions in your GitHub repository.
2. Add a new secret called RENDER_API_KEY and paste your Render API token.
3. This key is used in the GitHub Actions workflow to deploy the app to Render.

## API Usage

Once deployed, the FastAPI app provides an endpoint for salary prediction.

/predict_salary/ **Endpoint**
**Method**: POST

**Request Body** (JSON format):
```json
{
  "country": "United States of America",
  "education_level": "Masterâ€™s degree",
  "years_of_experience": 10
}
```

**Response** (JSON format):
```json
{
  "predicted_salary": 80000
}
```

**Swagger Documentation**
The app includes interactive API documentation generated by **Swagger**. You can access it by visiting /docs in your deployed app:

```arduino
https://<your-app-name>.onrender.com/docs
```

## Contributing
Contributions are welcome! If you have suggestions for improving the project, feel free to fork the repository and submit a pull request.


